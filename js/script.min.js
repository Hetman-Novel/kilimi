(()=>{"use strict";!function(){const e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};if(e.any()){document.body.classList.add("_touch");let e=document.querySelectorAll(".menu-item-has-children"),t=document.querySelectorAll(".menu-item-has-children > a");if(e.length>0){for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(function(e){n.classList.toggle("_active")}))}for(let e=0;e<t.length;e++)t[e].addEventListener("click",(function(e){e.preventDefault()}))}}else document.body.classList.add("_pc");const t=document.getElementById("burger");t&&t.addEventListener("click",(()=>{document.body.classList.toggle("_lock"),t.classList.toggle("open"),document.querySelector(".menu__body").classList.toggle("_active")}));const n=document.querySelector(".menu__icon"),s=document.querySelector(".menu__body"),c=document.querySelector(".menu-item-has-children");n&&n.addEventListener("click",(function(e){document.body.classList.toggle("_lock"),n.classList.toggle("_active"),s.classList.toggle("_active"),c&&c.classList.remove("_active")}));const r=document.querySelector(".header__close-menu");document.querySelectorAll(".menu-item"),r&&r.addEventListener("click",(function(e){document.body.classList.remove("_lock"),n.classList.remove("_active"),s.classList.remove("_active")})),document.querySelectorAll(".menu__list .menu-item-has-children").forEach((function(e){let t;const n=e.querySelector(".menu__sub-list");n&&(e.addEventListener("mouseenter",(function(){t=setTimeout((()=>{e.classList.add("hover"),n.classList.add("hover")}),200)})),e.addEventListener("mouseleave",(function(){clearTimeout(t),e.classList.remove("hover"),n.classList.remove("hover")})))}))}(),function(){document.querySelector(".header").classList.contains("n_hidden");const e=document.querySelector(".header");e&&new IntersectionObserver((function(t,n){t[0].isIntersecting?e.classList.remove("n_scroll"):e.classList.add("n_scroll")})).observe(e)}(),function(){let e=document.querySelectorAll(".select__header"),t=document.querySelectorAll(".select__item"),n=document.querySelector(".select__body");function s(){this.parentElement.classList.toggle("is-active")}function c(){let e=this.innerText,t=this.closest(".select");t.querySelector(".select__current").innerText=e,t.classList.add("selected"),t.classList.remove("is-active")}e.forEach((e=>{e.addEventListener("click",s)})),t.forEach((e=>{e.addEventListener("click",c)})),n&&n.addEventListener("click",(function(e){const t=document.querySelectorAll(".select__item"),n=e.target;Array.from(t).forEach((e=>{e.classList.remove("current-lang")})),n.classList.add("current-lang")}))}(),function(){document.querySelectorAll(".wrap-lazy-load-image").forEach((e=>{const t=e.querySelector("img");if(t){const e=document.createElement("span");e.className="sk-spinner-pulse",t.insertAdjacentElement("afterend",e)}}));const e=document.querySelectorAll(".wrap-lazy-load-image img");e.forEach((e=>{null===e.getAttribute("data-src")&&(e.setAttribute("data-src",e.getAttribute("src")),e.removeAttribute("src"),e.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"))}));const t=e,n=document.documentElement.clientHeight;let s=[];function c(){let e=s.findIndex((e=>pageYOffset>e-n));e>=0&&(t[e].dataset.src?(t[e].src=t[e].dataset.src,t[e].removeAttribute("data-src"),t[e].addEventListener("load",(n=>{t[e].parentNode.classList.add("img-loaded")}))):t[e].dataset.src&&(t[e].src=t[e].dataset.srcset,t[e].removeAttribute("data-srcset"),t[e].addEventListener("load",(n=>{t[e].parentNode.classList.add("img-loaded")}))),delete s[e])}t.length>0&&t.forEach((e=>{(e.dataset.src||e.dataset.srcset)&&(s.push(e.getBoundingClientRect().top+pageYOffset),c())})),window.addEventListener("scroll",(function(){e&&c()}))}();let e=document.getElementById("show-search-form");e&&e.addEventListener("click",(()=>{document.querySelector(".header__serchForm").classList.toggle("hidden")}));let t=document.querySelector(".carpeting__itemImages");if(t){let e=document.getElementById("carpeting-wrap-image-one"),n=document.getElementById("carpeting-wrap-image-two"),s=document.getElementById("carpeting-wrap-image-three");e.addEventListener("click",(()=>{t.classList.remove("active-two"),t.classList.remove("active-three"),t.classList.add("active-one")})),n.addEventListener("click",(()=>{t.classList.remove("active-one"),t.classList.remove("active-three"),t.classList.add("active-two")})),s.addEventListener("click",(()=>{t.classList.remove("active-one"),t.classList.remove("active-two"),t.classList.add("active-three")}))}const n=document.getElementById("calls-are-free-show-phones");n&&n.addEventListener("click",(function(){n.parentNode.parentNode.classList.toggle("show-all-phones")}));const s=document.querySelectorAll(".to-order__blockProductRemove");s&&s.forEach((e=>{e.addEventListener("click",(()=>{e.parentNode.remove()}))})),document.addEventListener("DOMContentLoaded",(function(){function e(e,t){let n=document.querySelectorAll("."+e).length,s=document.getElementById(t);return s&&(s.textContent=n),n}let t=e("number-of-review","number-of-reviews"),n=e("number-of-question","number-of-questions"),s=document.getElementById("there-are-no-reviews-yet");s&&(0===t?s.classList.add("show"):s.classList.remove("show"));let c=document.getElementById("there-is-no-question-yet");c&&(0===n?c.classList.add("show"):c.classList.remove("show"));let r=document.getElementById("image-input"),o=document.getElementById("file-name");r&&r.addEventListener("change",(function(){const e=this.files[0];if(e){const t=e.name,n=t.split(".").pop().toLowerCase();["jpg","jpeg","png","gif"].includes(n)?o.textContent=t:(alert("Пожалуйста, выберите изображение в формате JPG, JPEG, PNG или GIF."),this.value="",o.textContent="")}}));let a=document.querySelector(".wrap-stars-rating");if(a){function i(e){switch(console.log("starsRating:",a),a.classList.remove("rating-1","rating-2","rating-3","rating-4","rating-5"),e){case 1:a.classList.add("rating-1");break;case 2:a.classList.add("rating-2");break;case 3:a.classList.add("rating-3");break;case 4:a.classList.add("rating-4");break;case 5:a.classList.add("rating-5");break;default:console.error("Invalid rating")}}[document.getElementById("review-rating-1"),document.getElementById("review-rating-2"),document.getElementById("review-rating-3"),document.getElementById("review-rating-4"),document.getElementById("review-rating-5")].forEach((e=>{e.addEventListener("click",(()=>{let t=parseInt(e.id.split("-").pop());console.log("Selected rating:",t),i(t)}))}))}}))})();